#!/usr/local/bin/perl

#
# does the html version of just home pages
# $Id: aid_home_html,v 1.16 1998/01/02 20:14:18 mradwin Exp $
#

require 'aid_util.pl';
require 'getopts.pl';

$usage = 'usage: aid_home_html [-hs] [-p <pg>] [-t <text>] [-i <infile>] <outfile>
 -h            Display usage information.
 -p <pg>       Use page number <pg> for generating content.  REQUIRED.
 -s            Create the submit page.
 -t <text>     Put a tableheader with "text".
 -i <infile>   Create an "other" page from html code in <infile>.

 <outfile>     Write results to <outfile>.
';

&Getopts('hst:i:p:') || die "$usage\n";
$opt_h && die "$usage\n";

die "$usage\n" unless $ARGV[0];
die "$usage\n" unless ($opt_s || $opt_i);
die "$usage\n" unless defined($opt_p);

$infile = $opt_i;
$outfile = $ARGV[0];

if ($opt_i) {
    open(INFILE,$infile) || die "Can't open $infile: $!\n";
    @lines = <INFILE>;
    close(INFILE);
}

open(OUTFILE,">$outfile") || die "Can't open $outfile: $!\n";

print OUTFILE &common_html_hdr($opt_p);
if ($opt_t) {
    print OUTFILE "<br>\n";
    print OUTFILE &aid_tableheader($opt_t);
}

if ($opt_s) {
    print OUTFILE &submit_body(&blank_rawdata(),'',0);
} else {
    print OUTFILE @lines;
}
print OUTFILE &common_html_ftr($opt_p);

exit(0);
